{"version":3,"file":"static/chunks/pages/server-sitemap.xml-a8e48b0c5af3dc44.js","mappings":"qFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,sBACA,WACA,OAAeC,EAAQ,MACvB,EACA,yHCqFe,SAASC,GAAU,CAAC","sources":["webpack://_N_E/?4b9e","webpack://_N_E/./pages/server-sitemap.xml/index.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/server-sitemap.xml\",\n      function () {\n        return require(\"private-next-pages/server-sitemap.xml/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/server-sitemap.xml\"])\n      });\n    }\n  ","import { getServerSideSitemapLegacy } from 'next-sitemap';\nimport { GetServerSideProps } from 'next';\nimport CategoriesListApi from 'api/categories/CategoriesApi';\nimport CategoriesChildrenListApi from 'api/categories/CategoriesChildren';\nimport SitemapApi from 'api/sitemap/Sitemap';\nimport { acyncForEach } from 'helpers/utils/acyncForEach';\n\nexport const getServerSideProps: GetServerSideProps = async ctx => {\n\tconst categories = [];\n\tlet catalogs = [];\n\tlet product = [];\n\tconst categoriesListApi = new CategoriesListApi();\n\tconst categoriesChildrenListApi = new CategoriesChildrenListApi();\n\tconst sitemapApi = new SitemapApi();\n\tawait categoriesListApi.getCategoriesListData().then(res => {\n\t\tcategories.push(...res.data.map(item => item.redirectTo));\n\t});\n\tawait categoriesChildrenListApi\n\t\t.getCategoriesChildrenListData({\n\t\t\tparent: '',\n\t\t})\n\t\t.then(res => {\n\t\t\tcategories.push(...res.data.map(item => item.redirectTo));\n\t\t});\n\tawait acyncForEach(categories, async item => {\n\t\tconst response = await categoriesChildrenListApi.getCategoriesChildrenListData({\n\t\t\tparent: item,\n\t\t});\n\t\tcatalogs.push(...response.data.map(item => item.redirectTo));\n\t});\n\tawait acyncForEach(catalogs, async item => {\n\t\tconst response = await categoriesChildrenListApi.getCategoriesChildrenListData({\n\t\t\tparent: item,\n\t\t});\n\t\tcatalogs.push(...response.data.map(item => item.redirectTo));\n\t});\n\n\tcatalogs = [...new Set(catalogs)];\n\n\tawait sitemapApi.getSitemapData().then(response => {\n\t\tproduct = response.data;\n\t});\n\n\tproduct = [...new Set(product)];\n\n\ttype Changefreq = 'always' | 'hourly' | 'daily' | 'weekly' | 'monthly' | 'yearly' | 'never';\n\n\tconst fields = [\n\t\t//{\n\t\t//  loc: process.env.NEXT_PUBLIC_API_HOST,\n\t\t//  lastmod: new Date().toISOString(),\n\t\t//  // changefreq\n\t\t//  // priority\n\t\t//},\n\t\t{\n\t\t\tloc: `${process.env.NEXT_PUBLIC_API_HOST}/categories/all`,\n\t\t\tlastmod: new Date().toISOString(),\n\t\t\tchangefreq: 'daily' as Changefreq,\n\t\t\tpriority: 1,\n\t\t},\n\t\t...categories.map(item => {\n\t\t\treturn {\n\t\t\t\tloc: `${process.env.NEXT_PUBLIC_API_HOST}/categories/${item}`,\n\t\t\t\tlastmod: new Date().toISOString(),\n\t\t\t\tchangefreq: 'daily' as Changefreq,\n\t\t\t\tpriority: 1,\n\t\t\t};\n\t\t}),\n\t\t...catalogs.map(item => {\n\t\t\treturn {\n\t\t\t\tloc: `${process.env.NEXT_PUBLIC_API_HOST}/catalog/${item}`,\n\t\t\t\tlastmod: new Date().toISOString(),\n\t\t\t\tchangefreq: 'daily' as Changefreq,\n\t\t\t\tpriority: 1,\n\t\t\t};\n\t\t}),\n\t\t...product.map(item => {\n\t\t\treturn {\n\t\t\t\tloc: `${process.env.NEXT_PUBLIC_API_HOST}/product-card/${item}`,\n\t\t\t\tlastmod: new Date().toISOString(),\n\t\t\t\tchangefreq: 'daily' as Changefreq,\n\t\t\t\tpriority: 0.9,\n\t\t\t};\n\t\t}),\n\t];\n\n\treturn getServerSideSitemapLegacy(ctx, fields);\n};\n\n// Default export to prevent next.js errors\n// eslint-disable-next-line\nexport default function Sitemap() {}\n"],"names":["window","__NEXT_P","push","__webpack_require__","Sitemap"],"sourceRoot":""}