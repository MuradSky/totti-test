(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{88033:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrowDark.9c0e382c.svg",height:96,width:96,blurWidth:0,blurHeight:0}},23625:function(e,t){"use strict";t.Z={src:"/_next/static/media/checkout.02cabc87.svg",height:24,width:24,blurWidth:0,blurHeight:0}},17348:function(e,t){"use strict";t.Z={src:"/_next/static/media/checkoutActive.fa648c0d.svg",height:24,width:24,blurWidth:0,blurHeight:0}},77621:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(34262),r=s(35248);let n=e=>({message:e.message,errors:e.errors});class i{async addProduct(e){let t=localStorage.getItem("_user_uuid"),s=t&&JSON.parse(t),a=await this._apiStore.request({method:r.I.POST,endpoint:"/api/v1/basket/add?BITRIX_SM_SALE_UID=".concat(s.BITRIX_SM_SALE_UID,"&SALE_USER_ID=").concat(s.SALE_USER_ID),headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return a.data=n(a.data),{success:a.success,data:a.data,status:a.status}}catch(e){return{success:a.success,data:a.data,status:a.status}}}constructor(){this._apiStore=a.Z.apiStore}}},47438:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(85893),r=s(41664),n=s.n(r),i=s(11163),o=s(67294);let c=e=>{let{children:t,href:s,className:r,isBlank:c}=e,[l,d]=o.useState(0),[u,h]=o.useState(0),p=(0,i.useRouter)(),m=e=>{h(e.currentTarget.parentElement.parentElement.scrollLeft)},x=e=>{e.preventDefault(),d(u),l-u<20&&l-u>-20&&(c?window.open(s,"_blank").focus():p.push(s)),h(0)},_=e=>{e.preventDefault()};return(0,a.jsx)(n(),{className:r,href:s,style:{textDecoration:"none",cursor:"pointer"},onMouseMove:m,onMouseUp:x,onClick:_,children:t})};var l=o.memo(c)},71149:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(85893),r=s(67294),n=s(60123),i={src:"/_next/static/media/dropdownArrow.80cccffb.svg",height:16,width:16,blurWidth:0,blurHeight:0},o=s(55123),c=s.n(o),l=s(25675),d=s.n(l),u=s(82462),h=s.n(u),p=s(58533);let m=e=>{let{placeholder:t,value:s,id:o,disable:l,isError:u,errorText:m,className:x,readonly:_,isOnlySelect:g,dropdata:v,withSuisse:j,infinityScroll:S,hasMore:k,inputType:f,onChange:b,fetchData:N,clickOnDropData:w}=e,[y,C]=r.useState(!g),A=r.useRef(null),T=r.useRef(null),I=e=>{b(e),C(!0)},Z=()=>{C(!y)},E=e=>{w(e),C(!1)},B=e=>{var t,s;let{target:a}=e;(null===(t=A.current)||void 0===t?void 0:t.contains(a))||(null===(s=T.current)||void 0===s?void 0:s.contains(a))||C(!1)};return r.useEffect(()=>(document.addEventListener("click",B,{capture:!0}),()=>document.removeEventListener("click",B)),[]),(0,a.jsxs)("div",{className:c().dropdown,children:[g?(0,a.jsxs)("div",{ref:T,className:c().selectedFieldContainer,onClick:Z,children:[(0,a.jsx)("div",{className:c().selectedField,children:s}),(0,a.jsx)(d(),{style:y?{transform:"rotate(180deg) translateY(50%)"}:{},src:i,width:16,height:16,alt:"v"})]}):(0,a.jsx)(n.Z,{refInput:T,type:f,placeholder:t,value:s,id:o,isError:u,errorText:m,className:x,readonly:l||0!==s.length&&_,onChange:I}),Array.isArray(v)&&v.length>0&&y&&!_&&(0,a.jsxs)("div",{ref:A,style:{overflowY:v.length>3?"scroll":"auto"},className:"".concat(c().dropdata," ").concat(j?h().className:""),children:[!S&&v.map(e=>(0,a.jsx)("div",{style:e.name===s?{backgroundColor:"rgba(35, 35, 35, 0.2)"}:{},id:e.id?e.id.toString():e,onClick:l?null:E,className:c().dropdataItem,children:e.name?e.name:e},e.id?e.id:e)),S&&(0,a.jsx)(p.Z,{dataLength:v.length,next:N,height:v.length>=3?96:32*v.length,hasMore:k,loader:"Загрузка",children:v.map(e=>(0,a.jsx)("div",{style:e.name===s?{backgroundColor:"rgba(35, 35, 35, 0.2)"}:{},id:e.id.toString(),onClick:l?null:E,className:c().dropdataItem,children:e.name},e.id))})]})]})};var x=m},64126:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var a=s(85893),r=s(67294),n={src:"/_next/static/media/showInput.7fa294ed.svg",height:20,width:20,blurWidth:0,blurHeight:0},i={src:"/_next/static/media/hiddenInput.7c651a39.svg",height:20,width:20,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/pencil.8218d8be.svg",height:20,width:20,blurWidth:0,blurHeight:0},c=s(11702),l=s.n(c),d=s(25675),u=s.n(d);let h=e=>{let{refInput:t,value:s,placeholder:c,label:d,type:h,id:p,isError:m,errorText:x,className:_,readonly:g,onChange:v}=e,[j,S]=r.useState(!1),[k,f]=r.useState(g),b=r.useRef(null),N=()=>{S(!j)},w=()=>{f(!k),g&&b.current&&(b.current.readOnly?(b.current.readOnly=!1,b.current.focus()):(b.current.readOnly=!0,b.current.blur()))};return r.useEffect(()=>{f(g)},[g]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{ref:t,className:"".concat(l().inputBlock," ").concat(m?l().isError:""," ").concat(_||""),children:[(0,a.jsx)("input",{ref:b,autoComplete:"off",className:"".concat(l().input," ").concat(g?"":l().inputWithoutPencil," ").concat(k?"":l().inputWithPencil),value:s,id:p,placeholder:c,readOnly:g,type:"password"===h&&j?"text":h,onChange:v}),"password"===h&&s&&(0,a.jsx)(u(),{alt:"show",src:j?i:n,width:20,height:20,onClick:N,style:{maxWidth:"100%",height:"auto"}}),g&&s&&(0,a.jsx)(u(),{alt:"pencil",src:o,width:20,height:20,onClick:w,style:{maxWidth:"100%",height:"auto"}})]}),d&&(0,a.jsx)("p",{className:l().label,children:d}),m&&x&&(0,a.jsx)("p",{className:l().errorText,children:x})]})};var p=r.memo(h)},60123:function(e,t,s){"use strict";s.d(t,{Z:function(){return a.Z}});var a=s(64126)},99543:function(e,t,s){"use strict";s.d(t,{Z:function(){return v}});var a=s(85893),r=s(14288),n=s(82462),i=s.n(n),o=s(25675),c=s.n(o);s(67294);var l=s(58238),d=s.n(l);let u=e=>{let{id:t,value:s,label:r,disable:n,withoutSuisseIntl:o,onClick:c}=e;return(0,a.jsxs)("div",{className:"".concat(d().radio," ").concat(n?d().disable:""),children:[(0,a.jsx)("input",{type:"radio",checked:s,id:t.toString()+r,onChange:n?null:c}),(0,a.jsx)("label",{htmlFor:t.toString()+r,className:o?"":i().className,style:o?{textTransform:"none",lineHeight:"125%"}:{},children:r})]})};var h={src:"/_next/static/media/prompt.7db39596.svg",height:16,width:16,blurWidth:0,blurHeight:0},p=s(12268),m=s.n(p),x=s(29238),_=s.n(x);let g=e=>{let{radioList:t,deliveryAddress:s,withoutBorder:n,sdekError:o,selectType:l,clickOnPrompt:d}=e;return(0,a.jsx)("div",{className:"".concat(m().radioGroup),children:t.map(e=>(0,a.jsxs)("div",{onClick:"SDEK_PVZ"!==e.code||s.value?null:()=>globalThis.orderWidjet.open(),className:"".concat(m().radio," ").concat(n?m().withoutBorder:""," ").concat(s&&"SDEK_PVZ"===e.code&&s.isError?m().error:""),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{id:e.id,value:e.value,label:e.label,disable:e.disable,withoutSuisseIntl:n,onClick:()=>l(e.id)}),"number"==typeof e.price&&e.value&&(0,a.jsx)("p",{className:i().className,children:(0,r.f)(e.price)}),e.isPrompt&&(0,a.jsx)(c(),{src:h,width:16,height:16,alt:"?",onClick:()=>d(e.code,!0)})]}),e.value&&e.description&&(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:_().sanitize(e.description)}}),"SDEK_PVZ"===e.code&&e.value&&s.value&&(0,a.jsxs)("p",{id:"address-SDEK-delivery",children:["Адрес доставки: ",s.value]}),"SDEK_PVZ"===e.code&&e.value&&(0,a.jsx)("p",{className:m().widjetLink,onClick:"SDEK_PVZ"===e.code?()=>globalThis.orderWidjet.open():null,children:s.value?"Изменить пункт выдачи":"Выбрать пункт выдачи"}),"SDEK_PVZ"===e.code&&o&&(0,a.jsx)("span",{className:m().errorText,children:"Пожалуйста, выберите пункт выдачи"})]},e.id))})};var v=g},42819:function(e,t,s){"use strict";s.d(t,{Z:function(){return a.Z}});var a=s(64624)},5997:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(85893),r=s(82462),n=s.n(r),i=s(67294),o=s(29238),c=s.n(o),l=s(18416),d=s.n(l);let u=e=>{let{id:t,size:s,text:r,withDot:i,withSuisse:o,className:l,count:u,marginBottom:h,children:p}=e;return(0,a.jsxs)("h1",{style:s?{fontSize:"".concat(s,"px"),marginBottom:Number.isInteger(h)?"".concat(h,"px"):null}:{marginBottom:Number.isInteger(h)?"".concat(h,"px"):null},id:t,className:"".concat(d().title," ").concat(l||""," ").concat(o?n().className:""),children:[i?"\xb7 ":"",p||r,(0,a.jsx)("sup",{className:"".concat(d().sub," ").concat(s<=40?d().miniSub:s>70?d().bigSub:""),dangerouslySetInnerHTML:null!=u?{__html:c().sanitize("&nbsp;(".concat(1===u.toString().length?"0"+u.toString():u,")"))}:{__html:""}})]})};var h=i.memo(u)},24255:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return tc}});var a=s(85893),r=s(67294),n=s(74968),i=s.n(n),o=s(46669),c=s(25675),l=s.n(c),d=s(11163),u=s(47438),h=s(56030),p=s(5997),m=s(64278),x=s(36142),_=s(19500),g=s.n(_),v=s(9473),j=s(82462),S=s.n(j),k=s(91374),f=s(55995),b=s(1808),N=s(77621),w=s(42819);let y=new b.Z,C=new N.Z,A=()=>{let e=(0,v.v9)(e=>e.isMobile.isMobile),t=(0,v.v9)(e=>e.favorites.favoritesList),s=(0,v.v9)(e=>e.userData.token),n=(0,d.useRouter)(),i=(0,f.Z)(),o=e=>{y.deleteFavorites({id:e}).then(()=>{i((0,k.F3)({token:localStorage.getItem("token")||null})),i((0,k.G4)({token:localStorage.getItem("token")||null}))})},c=e=>C.addProduct({id:e});return r.useEffect(()=>{i((0,k.F3)({token:localStorage.getItem("token")||null}))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Избранное",size:e?22:28,marginBottom:e?32:40,withSuisse:!0}),(0,a.jsxs)("div",{className:g().favorites,children:[Array.isArray(t)&&0===t.length&&(0,a.jsx)(w.Z,{text:"В избранном ничего нет",size:16,marginTop:0,withSuisse:!0}),t.map(e=>(0,a.jsx)(x.Z,{data:e,closeClickHandler:()=>o(e.id),addInCheckoutHandler:()=>c(e.id)},e.id))]}),(0,a.jsx)(u.Z,{className:g().button,href:m.Z.checkout,children:(0,a.jsx)(h.Z,{style:"lk"===n.query.from?{marginBottom:"40px"}:{},text:"перейти в корзину",isInvisible:!0,isActive:e})}),"lk"===n.query.from&&(0,a.jsx)(u.Z,{href:s?n.asPath.split("?")[0]+m.Z.lk:n.asPath.split("?")[0]+m.Z.signIn,children:(0,a.jsx)("button",{className:"".concat(g().back," ").concat(S().className),children:"назад"})})]})};var T=r.memo(A),I=s(88033),Z=s(70160),E=s.n(Z),B=s(9198),P=s.n(B),R=s(91749),L=s.n(R),D=s(71806),O=s(60123),K=s(58004),M=s.n(K);s(459);var F=s(85438),z=s.n(F);let W=e=>{let{value:t,label:s,className:r,onChange:n}=e;return(0,a.jsxs)("div",{className:"".concat(z().switch," ").concat(r),children:[(0,a.jsx)("p",{children:s}),(0,a.jsx)("input",{type:"checkbox",id:"switcher",defaultChecked:t,onChange:n}),(0,a.jsx)("label",{htmlFor:"switcher",className:"".concat(z().slider," ").concat(z().round)})]})};var H=r.memo(W),q=s(34262),G=s(35248);let U=e=>({message:e.message,errors:e.errors?{firstName:e.errors.firstName,lastName:e.errors.lastName,birthday:e.errors.birthday,email:e.errors.email,city:e.errors.city,subscribeNewsletter:e.errors.subscribeNewsletter}:null});var Q=s(76548);(0,B.registerLocale)("ru",D.Z);let J=new class{async editDataUser(e){let t=await this._apiStore.request({method:G.I.PUT,endpoint:"/api/v1/me",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return t.data=U(t.data),{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},Y=new class{async getRequestToChangePhone(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/me/change-phone/request",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},V=new class{async getChangePhone(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/me/change-phone/change",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},X=e=>{let{name:t,secondName:s,birthday:n,city:i,subscribeNewsletter:o,email:c,phone:l,closeSettings:d,openResetPass:u}=e,m=n.split("-"),[x,_]=r.useState(n?new Date(+m[2],+m[1]-1,+m[0]):""),[g,j]=r.useState(t||""),[k,b]=r.useState(s||""),[N,w]=r.useState(i||""),[y,C]=r.useState(c||""),[A,T]=r.useState(l||""),[I,Z]=r.useState(!!o&&o),[E,B]=r.useState(!1),[R,D]=r.useState(!1),[K,F]=r.useState(!1),[z,W]=r.useState(!1),[q,G]=r.useState(!1),[U,X]=r.useState(!1),[$,ee]=r.useState(""),[et,es]=r.useState(""!==n),[ea,er]=r.useState(!1),[en,ei]=r.useState(null),[eo,ec]=r.useState(""),[el,ed]=r.useState(!1),[eu,eh]=r.useState(!0),ep=r.useRef(null),em=r.useRef(null),ex=r.useRef(null),e_=(0,v.v9)(e=>e.isMobile.isMobile),eg=(0,v.v9)(e=>e.userData.token),ev=(0,f.Z)(),ej=e=>{et||(D(!1),_(e))},eS=(e,t)=>{"name"===t&&(j(e.target.value),B(!1)),"secondName"===t&&(b(e.target.value),F(!1)),"city"===t&&(w(e.target.value),W(!1)),"email"===t&&(X(!1),C(e.target.value)),"phone"===t&&(T("+"===e.target.value[0]?e.target.value[0]+e.target.value.slice(1,e.target.value.length).replace(/[^\d]/g,""):e.target.value.replace(/[^\d]/g,"")),G(!1)),"subscribe"===t&&Z(!I)},ek=()=>{if(!ea){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(y)){if(null===x){D(!0),ee("введите дату рождения");return}let e=x.toLocaleString().replace(/\//g,".").split(",")[0].split(".");er(!0),J.editDataUser({firstName:g,lastName:k,birthday:"".concat(e[0],"-").concat(e[1],"-").concat(e[2]),city:N,email:y,subscribeNewsletter:I}).then(e=>{if(e.data.errors){if(er(!1),e.data.errors.firstName){B(!0),ee(e.data.errors.firstName[0]);return}if(e.data.errors.lastName){F(!0),ee(e.data.errors.lastName[0]);return}if(e.data.errors.birthday){D(!0),ee(e.data.errors.birthday[0]);return}if(e.data.errors.email){X(!0),ee(e.data.errors.email[0]);return}if(e.data.errors.city){W(!0),ee(e.data.errors.city[0]);return}}else"ok"===e.data.message&&ev((0,Q.is)({token:eg})).then(()=>{d()})})}else X(!0),ee("Введите некорректный email")}},ef=()=>{eu&&(eh(!1),Y.getRequestToChangePhone({phone:A}).then(e=>{eh(!0),"ok"===e.data.message?(ei(60),ep.current=setInterval(()=>{ei(e=>e-1)},1e3)):e.data.errors&&e.data.errors.phone&&(G(!0),ee(e.data.errors.phone[0]))}))},eb=e=>{ed(!1),ec(e.target.value)},eN=()=>{V.getChangePhone({phone:A,code:eo}).then(e=>{e.data.errors&&e.data.errors.phone?(G(!0),ee(e.data.errors.phone[0])):e.data.errors&&e.data.errors.code?(ed(!0),ee(e.data.errors.code[0])):"ok"===e.data.message&&ev((0,Q.is)({token:eg})).then(()=>{ec(""),ei(null),G(!1)})})};return r.useEffect(()=>{(0===en||null===en)&&clearInterval(ep.current)},[en,ep]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{className:M().title,text:"Настройки аккаунта",size:e_?22:28,marginBottom:e_?32:40,withSuisse:!0}),(0,a.jsx)(O.Z,{className:"".concat(M().input," ").concat(E?M().isError:""),placeholder:"Имя",value:g,type:"text",isError:E,errorText:$,onChange:e=>eS(e,"name")}),(0,a.jsx)(O.Z,{className:"".concat(M().input," ").concat(K?M().isError:""),placeholder:"Фамилия",value:k,type:"text",isError:K,errorText:$,onChange:e=>eS(e,"secondName")}),(0,a.jsxs)("div",{className:M().datepickerBlock,children:[(0,a.jsx)(P(),{ref:ex,className:"".concat(M().input," ").concat(U?M().isError:""),placeholderText:"Дата рождения",dateFormat:"dd-MM-yyyy",locale:"ru",selected:x,onChange:ej,customInput:(0,a.jsx)(L(),{className:M().datepicker,mask:[/[0-3]/,/\d/,"-",/[0-1]/,/\d/,"-",/[1-2]/,/\d/,/\d/,/\d/],guide:!0,id:"inputMask",placeholder:"Дата рождения",onChange:ej})}),R&&(0,a.jsx)("p",{className:M().errorText,children:$})]}),(0,a.jsx)(O.Z,{className:"".concat(M().input," ").concat(z?M().isError:""),placeholder:"Город",value:N,type:"text",isError:z,errorText:$,onChange:e=>eS(e,"city")}),(0,a.jsx)(O.Z,{className:"".concat(M().input," ").concat(U?M().isError:""),isError:U,errorText:$,placeholder:"Email",value:y,type:"email",onChange:e=>eS(e,"email")}),(0,a.jsxs)("div",{className:M().phoneContainer,children:["RU"===localStorage.getItem("location")?(0,a.jsxs)("div",{className:M().phoneBlock,children:[(0,a.jsx)(L(),{ref:em,mask:["+","7"," ",/[1-6]|[8-9]/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/," ",/\d/,/\d/],guide:!0,id:"inputMask",placeholder:"+7 999 000 00 00",type:"tel",className:"".concat(M().input," ").concat(M().phone," ").concat(null!==en?M().phoneTimer:""," ").concat(q?M().errorPhone:""),value:A,onChange:e=>eS(e,"phone")}),A.length>=11&&null===en&&(0,a.jsx)("p",{style:l?{right:"30px"}:{},onClick:ef,children:"Отправить код"}),A.length>=11&&null!==en&&0!==en&&(0,a.jsx)("p",{style:l?{right:"30px"}:{},children:"00:".concat(en)}),A.length>=11&&null!==en&&0===en&&(0,a.jsx)("p",{style:l?{right:"30px"}:{},onClick:ef,children:"Отправить еще раз"})]}):(0,a.jsx)("div",{className:M().phoneBlock,children:(0,a.jsx)(O.Z,{className:"".concat(M().input," ").concat(q?M().isError:""," ").concat(null!==en?M().phoneTimer:""),placeholder:"+7 999 000 00 00",value:A,type:"tel",isError:q,errorText:$,onChange:e=>eS(e,"phone")})}),q&&$&&"RU"===localStorage.getItem("location")&&(0,a.jsx)("p",{className:"".concat(M().errorText," ").concat(M().errorTextPhone," ").concat(null!==en?M().errorTextPhoneWithCode:""),children:$})]}),null!==en&&(0,a.jsxs)("div",{className:M().phoneBlock,children:[(0,a.jsx)(O.Z,{className:"".concat(M().smsInput," ").concat(el?M().isErrorSmsCode:""),value:eo,placeholder:"Код",type:"number",errorText:$,isError:el,onChange:eb}),eo.length>=6&&(0,a.jsx)("p",{className:M().codeField,onClick:eN,children:"Подтвердить код"})]}),(0,a.jsx)(h.Z,{className:"".concat(M().button," ").concat(M().firstBtn),text:"сохранить данные",isInvisible:!0,isActive:!0,disabled:ea,onClick:ek}),(0,a.jsx)(h.Z,{className:M().button,text:"Сменить пароль",isInvisible:!0,onClick:u}),(0,a.jsx)(H,{className:M().switcher,value:I,label:"Подписаться на рассылку",onChange:e=>eS(e,"subscribe")}),(0,a.jsx)("button",{onClick:d,className:"".concat(M().back," ").concat(S().className),children:"назад"})]})};var $=r.memo(X),ee=s(6600),et=s.n(ee);let es=e=>({message:e.message,errors:e.errors?{oldPassword:e.errors.oldPassword,newPassword:e.errors.newPassword,newPasswordConfirmation:e.errors.newPasswordConfirmation}:null}),ea=new class{async ChangePassword(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/me/change-password",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return t.data=es(t.data),{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},er=e=>{let{closeResetPass:t}=e,[s,n]=r.useState(""),[i,o]=r.useState(""),[c,l]=r.useState(""),[d,u]=r.useState(!1),[m,x]=r.useState(!1),[_,g]=r.useState(!1),[j,k]=r.useState(""),[f,b]=r.useState(!1),N=(0,v.v9)(e=>e.isMobile.isMobile),w=(e,t)=>{"currentPass"===t&&(n(e.target.value),u(!1)),"newPass"===t&&(o(e.target.value),x(!1)),"retryNewPass"===t&&(l(e.target.value),g(!1))},y=()=>{if(!f){if(""===i){x(!0),k("заполните поле");return}if(""===c){g(!0),k("заполните поле");return}if(i!==c){u(!1),x(!0),g(!0),k("Пароли не совпали");return}b(!0),ea.ChangePassword({oldPassword:s,newPassword:i,newPasswordConfirmation:c}).then(e=>{e.data.errors?(e.data.errors.oldPassword&&(u(!0),k(e.data.errors.oldPassword[0])),e.data.errors.newPassword&&(x(!0),k(e.data.errors.newPassword[0])),e.data.errors.newPasswordConfirmation&&(g(!0),k(e.data.errors.newPasswordConfirmation[0])),b(!1)):"ok"===e.data.message&&t()})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Изменить пароль",size:N?22:28,marginBottom:N?32:40,withSuisse:!0}),(0,a.jsx)(O.Z,{className:"".concat(et().input," ").concat(d?et().isError:""),placeholder:"Текущий пароль",value:s,type:"password",isError:d,errorText:j,onChange:e=>w(e,"currentPass")}),(0,a.jsx)(O.Z,{className:"".concat(et().input," ").concat(m?et().isError:""),placeholder:"Новый пароль",value:i,type:"password",isError:m,errorText:j,onChange:e=>w(e,"newPass")}),(0,a.jsx)(O.Z,{className:"".concat(et().input," ").concat(_?et().isError:""),placeholder:"Повторите пароль",value:c,type:"password",isError:_,errorText:j,onChange:e=>w(e,"retryNewPass")}),(0,a.jsx)(h.Z,{className:et().button,text:"Сохранить изменения",isInvisible:!0,disabled:f,onClick:y}),(0,a.jsx)("button",{onClick:t,className:"".concat(et().back," ").concat(S().className),children:"назад"})]})};var en=r.memo(er),ei=s(89672),eo=s.n(ei),ec=s(14288),el=s(47961),ed=s.n(el),eu=s(19589),eh=s(24828),ep=s(32125),em=s.n(ep),ex=s(10395),e_=s.n(ex);let eg=e=>{let{label:t,value:s,placeholder:r,height:n,className:i,isError:o,errorText:c,onChange:l}=e;return(0,a.jsxs)("div",{className:"".concat(i," ").concat(e_().textarea),children:[t&&(0,a.jsx)("p",{children:t}),(0,a.jsx)("textarea",{style:{height:n||"auto",border:o?"1px solid #EF3A3A":""},placeholder:r,value:s,onChange:l}),c&&o&&(0,a.jsx)("p",{className:e_().errorText,children:c})]})};var ev=r.memo(eg);let ej=new class{async addReview(e,t){let s=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/order/".concat(e.id,"/comment"),headers:{accept:"application/json","Content-Type":"application/json"},data:t});try{return{success:s.success,data:s.data,status:s.status}}catch(e){return{success:s.success,data:s.data,status:s.status}}}constructor(){this._apiStore=q.Z.apiStore}},eS=e=>{let{orderId:t,id:s,img:n,name:i,price:o,color:c,size:d}=e,[u,p]=r.useState(5),[m,_]=r.useState(""),[g,j]=r.useState(!1),[S,k]=r.useState(!1),[f,b]=r.useState(""),N=(0,v.v9)(e=>e.isMobile.isMobile),w=e=>{p(e)},y=e=>{_(e.target.value),k(!1)},C=()=>{ej.addReview({id:t},{productId:s,comment:m,stars:u}).then(e=>{e.data.errors?e.data.errors.comment&&(k(!0),b(e.data.errors.comment[0])):"ok"===e.data.message&&j(!0)})};return(0,a.jsx)(a.Fragment,{children:g?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{children:"Отзыв успешно отправлен!"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:em().product,isFullInfo:!0,data:{id:s,img:n,name:i,price:o,color:c,size:d},isReviwe:!0}),(0,a.jsxs)("div",{className:em().review,children:[(0,a.jsxs)("div",{className:em().stars,children:[(0,a.jsx)("p",{children:"Поставьте оценку"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l(),{alt:"star",src:u>0?eh.Z:eu.Z,width:24,height:24,onClick:()=>w(1)}),(0,a.jsx)(l(),{alt:"star",src:u>1?eh.Z:eu.Z,width:24,height:24,onClick:()=>w(2)}),(0,a.jsx)(l(),{alt:"star",src:u>2?eh.Z:eu.Z,width:24,height:24,onClick:()=>w(3)}),(0,a.jsx)(l(),{alt:"star",src:u>3?eh.Z:eu.Z,width:24,height:24,onClick:()=>w(4)}),(0,a.jsx)(l(),{alt:"star",src:u>4?eh.Z:eu.Z,width:24,height:24,onClick:()=>w(5)})]})]}),(0,a.jsx)(ev,{className:em().textArea,height:N?120:155,placeholder:"Впечатления о товаре",value:m,onChange:y,isError:S,errorText:f}),(0,a.jsx)(h.Z,{text:"отправить",isInvisible:!0,className:em().button,onClick:C})]})]})})};var ek=r.memo(eS),ef=s(71149),eb=s(99543),eN=s(84503),ew=s(81259),ey=s(79547),eC=s(2758),eA=s.n(eC);let eT=new class{async returnOrder(e,t){let s=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/order/".concat(e.id,"/return"),headers:{accept:"application/json","Content-Type":"application/json"},data:t});try{return{success:s.success,data:s.data,status:s.status}}catch(e){return{success:s.success,data:s.data,status:s.status}}}constructor(){this._apiStore=q.Z.apiStore}},eI=[{id:7,value:!0,label:"Мне не подошел размер"},{id:8,value:!1,label:"Tовар не оправдал ожиданий"},{id:9,value:!1,label:"Не тот цвет"},{id:10,value:!1,label:"Другое"}],eZ=[{id:11,value:!0,label:"СДЭК"},{id:12,value:!1,label:"Почта России"}],eE=e=>{let{product:t,backRef:s,id:n}=e,[i,o]=r.useState(t.filter(e=>!e.isReturned).map(e=>({...e,isSelect:!1}))),[c,l]=r.useState([]),[d,u]=r.useState(!1),[m,_]=r.useState(eI),[g,j]=r.useState(eZ),[k,b]=r.useState(eI[0].label),[N,w]=r.useState(!1),[y,C]=r.useState(""),[A,T]=r.useState(""),[I,Z]=r.useState(!1),[E,B]=r.useState(!1),[P,R]=r.useState(!0),[L,D]=r.useState(!0),[O,K]=r.useState(0),[M,F]=r.useState(0),[z,W]=r.useState(!1),[H,q]=r.useState(!1),[G,U]=r.useState(""),Q=(0,v.v9)(e=>e.locationData.countryies),J=(0,v.v9)(e=>e.locationData.cities),Y=(0,v.v9)(e=>e.orderList.page),V=(0,v.v9)(e=>e.isMobile.isMobile),X=(0,f.Z)(),$=(0,eN.Z)(A,300),ee=(0,eN.Z)(y,300),et=e=>{l(s=>{let a=!s.find(t=>t.id===e);return a?[...s,t.find(t=>t.id===e)]:s.filter(t=>t.id!==e)}),o(t=>{let s=t.some(t=>t.id===e&&!1===t.isSelect);return s?t.map(t=>t.id===e?{...t,isSelect:!0}:t):t.map(t=>t.id===e?{...t,isSelect:!1}:t)})},es=()=>{0!==c.length&&u(!0)},ea=e=>{if(_(t=>t.map(t=>t.id===e?{...t,value:!0}:{...t,value:!1})),10===e){b(""),w(!0);return}w(!1),b(m.find(t=>t.id===e).label)},er=e=>{j(t=>t.map(t=>t.id===e?{...t,value:!0}:{...t,value:!1}))},en=e=>{b(e.target.value),q(!1),U("")},ei=e=>{T(e.target.value),R(!1),C(""),D(!1),F(0),K(0),X((0,ew.PB)({currentCity:"",currentCityCode:""}))},eo=e=>{T(Q.find(t=>t.name===e.currentTarget.textContent).name),X((0,ew.h4)(Q.find(t=>t.name===e.currentTarget.textContent).name)),X((0,ew.g_)([])),R(!0)},ec=e=>{C(e.target.value),D(!1),F(0),K(0),W(!1)},el=e=>{let t=J.find(t=>t.name===e.currentTarget.textContent);C(t.name),X((0,ew.PB)({currentCity:t.name,currentCityCode:t.code})),X((0,ew.ND)([])),D(!0)},ed=()=>{var e;X((0,ew.vz)({countryId:Array.isArray(Q)?null===(e=Q.find(e=>e.name===$))||void 0===e?void 0:e.id:"",query:ee,limit:6,offset:M})).then(e=>{let t=e.payload;K(t.data.meta.count),F(M+t.data.meta.offset)})},eu=()=>{eT.returnOrder({id:n},{productIds:c.map(e=>e.id),message:k,city:y,deliveryMethod:g.find(e=>!0===e.value).label}).then(e=>{if(e.data.errors&&e.data.errors.city){W(!0);return}if(e.data.errors&&e.data.errors.message){q(!0),U(e.data.errors.message[0]);return}"ok"===e.data.message&&(Z(!0),X((0,ey.$s)({page:1,pageSize:5*(Y-1)})))})},eh=e=>{B(!0),Z(!1),e.preventDefault()};return(r.useEffect(()=>{X((0,ew.Jp)({query:$}))},[$]),r.useEffect(()=>{var e;X((0,ew.vz)({countryId:Array.isArray(Q)?null===(e=Q.find(e=>e.name===$))||void 0===e?void 0:e.id:"",query:ee,limit:6,offset:M})).then(e=>{let t=e.payload;K(t.data.meta.count),F(M+t.data.meta.offset)})},[ee]),r.useEffect(()=>{"RU"===localStorage.getItem("location")&&T("Россия")},[]),I)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Возврат оформлен",size:V?22:28,marginBottom:V?24:40,withSuisse:!0}),(0,a.jsxs)("p",{className:eA().successSendText,children:["Менеджер свяжется с\xa0вами, чтобы уточнить стоимость и\xa0детали возврата. С\xa0правилами возврата можно ознакомиться"," ",(0,a.jsx)("a",{href:"#",onClick:eh,children:"по\xa0ссылке"}),"."]})]}):E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Способы возврата",size:V?22:28,marginBottom:V?24:40,withSuisse:!0}),(0,a.jsx)("p",{className:"".concat(eA().successSendText," ").concat(eA().withUnderline),children:"Товар надлежащего качества можно вернуть при условии, что он\xa0не\xa0был в\xa0употреблении и\xa0сохранил все свои первоначальные свойства, в\xa0течение 14\xa0дней с\xa0момента покупки. При возврате товара ненадлежащего качества после проведения экспертизы и\xa0установления факта брака, мы\xa0возместим стоимость товара и\xa0почтовые расходы или произведем замену за\xa0свой счет."}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className),children:"ВОЗВРАТ ДЕНЕЖНЫХ СРЕДСТВ"}),(0,a.jsx)("p",{className:eA().successSendText,children:"Если заказ был оплачен картой на\xa0сайте, то\xa0Возврат денежных средств осуществляется в\xa0течение 10\xa0рабочих дней с\xa0даты поступления товара на\xa0склад продавца, на\xa0ту\xa0же карту, с\xa0которой был оплачен товар."}),(0,a.jsx)("p",{className:"".concat(eA().successSendText," ").concat(eA().withUnderline),children:"В\xa0случае оплаты заказа наличными или банковской картой при получении, возврат будет осуществлен по\xa0реквизитам, указанным в\xa0заявлении в\xa0течение 10\xa0рабочих дней с\xa0даты поступления товара на\xa0склад и\xa0проверки товара."}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className),children:"СТОИМОСТЬ ВОЗВРАТА"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className," ").concat(eA().subTitle),children:"300 руб."}),(0,a.jsx)("p",{className:eA().successSendText,children:"по\xa0Москве, Московской области, Санкт-Петербургу и\xa0Ленинградской области"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className,"  ").concat(eA().subTitle),children:"490 руб."}),(0,a.jsx)("p",{className:eA().successSendText,children:"по России"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className,"  ").concat(eA().subTitle),children:"690 руб."}),(0,a.jsx)("p",{className:eA().successSendText,children:"из\xa0Казахстана и\xa0Беларуси"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className,"  ").concat(eA().subTitle),children:"2000 руб."}),(0,a.jsx)("p",{className:"".concat(eA().successSendText," ").concat(eA().withUnderline),children:"из\xa0других стран"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className),children:"СПОСОБЫ ВОЗВРАТА"}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className," ").concat(eA().bigSubTitle),children:"Фирменный магазин бренда"}),(0,a.jsx)("p",{className:eA().successSendText,children:"Для возврата необходимо упаковать вещи в\xa0пакет или коробку и\xa0доставить в\xa0магазин бренда. Для возврата необходим чек с\xa0датой совершения покупки."}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className," ").concat(eA().bigSubTitle),children:"Курьер по Москве и области"}),(0,a.jsxs)("p",{className:eA().successSendText,children:["Для оформления возврата и\xa0вызова курьера необходимо связаться со\xa0службой поддержки. Упакованные в\xa0пакет или коробку изделия необходимо дополнить заявлением на\xa0возврат денежных средств. Скачать заявление можно"," ",(0,a.jsx)("a",{href:"#",target:"_blank",children:"здесь"}),"."]}),(0,a.jsx)("p",{className:"".concat(eA().successSendTitle," ").concat(S().className," ").concat(eA().bigSubTitle),children:"СДЭК"}),(0,a.jsxs)("p",{className:eA().successSendText,children:["Вы\xa0можете вернуть товар курьером или в\xa0пункте выдачи СДЭК. Для оформления необходимо связаться со\xa0службой поддержки: специалист попросит оплатить стоимость возврата и\xa0предоставит трек-номер для отслеживания возврата. Упакованные в\xa0пакет или коробку изделия необходимо дополнить заявлением на\xa0возврат денежных средств. Скачать заявление можно"," ",(0,a.jsx)("a",{href:"#",target:"_blank",children:"здесь"}),"."]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:d?"Оформить возврат":"Выберите товары",size:V?22:28,marginBottom:V?32:40,withSuisse:!0}),d?(0,a.jsxs)("div",{className:eA().productsBack,children:[(0,a.jsx)("div",{children:c.map(e=>(0,a.jsx)(x.Z,{isFullInfo:!0,data:e,isReviwe:!0},e.name))}),(0,a.jsx)("p",{children:"Причина возврата"}),(0,a.jsx)(eb.Z,{radioList:m,withoutBorder:!0,selectType:e=>ea(e)}),N&&(0,a.jsx)(ev,{className:eA().textarea,value:k,onChange:en,placeholder:"Комментарий",height:120,isError:H,errorText:G}),(0,a.jsxs)("div",{className:eA().location,children:[(0,a.jsx)("p",{children:"Страна"}),(0,a.jsx)(ef.Z,{placeholder:"Страна",value:A,readonly:P,dropdata:Q,withSuisse:!0,onChange:ei,clickOnDropData:eo}),(0,a.jsx)("p",{children:"Город"}),(0,a.jsx)(ef.Z,{placeholder:"Город",value:y,readonly:L,dropdata:J,infinityScroll:!0,isError:z,errorText:"заполните поле",hasMore:!!Array.isArray(J)&&O>J.length,onChange:ec,clickOnDropData:el,fetchData:ed})]}),(0,a.jsx)("p",{children:"Способ возврата"}),(0,a.jsx)(eb.Z,{radioList:g,withoutBorder:!0,selectType:e=>er(e)}),(0,a.jsx)(h.Z,{className:"".concat(eA().button," ").concat(eA().sendBtn),text:"отправить",isInvisible:!0,onClick:eu})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eA().products,children:i.map(e=>(0,a.jsx)(x.Z,{isFullInfo:!0,data:e,isReturned:e.isReturned,isBack:!0,selectProductBack:()=>et(e.id)},e.name))}),(0,a.jsx)(h.Z,{disabled:0===c.length,className:eA().button,text:"продолжить",isInvisible:!0,onClick:es})]})]})};var eB=r.memo(eE);class eP{async orderPay(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/order/".concat(e,"/pay"),headers:{accept:"application/json","Content-Type":"application/json"},data:null});return{success:t.success,data:t.data,status:t.status}}constructor(){this._apiStore=q.Z.apiStore}}new eP;let eR=e=>{let{id:t,date:s,address:n,phone:i,status:o,openDetailesWithPay:c,payTemplate:d,price:u,priceWithoutDelivery:h,deliveryPrice:m,product:_,onCloseDetails:g}=e,[j,k]=r.useState(null),[f,b]=r.useState(!1),[N,w]=r.useState(!0),y=r.useRef(null),C=r.useRef(null),A=(0,v.v9)(e=>e.isMobile.isMobile),T=e=>{k(null===e?null:_.find(t=>t.id===e))};return r.useEffect(()=>{let e=document.createRange().createContextualFragment(d&&d.replace('$("#payButton").on("click", payHandler);',""));C.current&&(C.current.innerHTML=""),C.current&&C.current.appendChild(e),!N&&C.current&&C.current.querySelector("script").addEventListener("load",()=>{setTimeout(()=>{try{document.querySelector("#payButton").onclick=payHandler,c===t&&C.current.querySelector("#payButton").click()}catch(e){document.querySelector("#payButton").style.display="none"}},500)}),w(!1)},[d,C.current]),(0,a.jsx)(a.Fragment,{children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eB,{backRef:y,product:_,id:t}),(0,a.jsx)("button",{ref:y,onClick:()=>b(!1),className:"".concat(ed().back," ").concat(S().className),children:"назад"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:j?"Отзыв":"Заказ #".concat(t),size:A?22:28,marginBottom:A?32:40,withSuisse:!0}),(0,a.jsx)(a.Fragment,{children:null===j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:ed().orderInfo,children:[(0,a.jsx)("p",{children:s}),(0,a.jsx)("p",{children:n}),(0,a.jsx)("p",{children:i}),(0,a.jsx)(p.Z,{text:o.name,withDot:!0,size:12})]}),(0,a.jsx)("div",{className:ed().products,children:_.map(e=>(0,a.jsx)(x.Z,{isFullInfo:!0,data:e,isReturned:e.isReturned,statusText:e.statusText,orderSuccess:"F"===o.id,isOrder:!0,addReview:()=>T(e.id)},e.name))}),(0,a.jsxs)("div",{className:ed().price,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[_.reduce((e,t)=>e+t.quantity,0)," ",1===_.length?"товар":_.length>4?"товара":"товаров"]}),(0,a.jsx)("p",{children:(0,ec.f)(h)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Доставка"}),(0,a.jsx)("p",{children:(0,ec.f)(m)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"ВСЕГО"}),(0,a.jsx)("p",{children:(0,ec.f)(u)})]})]}),d&&(0,a.jsx)("div",{ref:C,className:ed().cloudpay_button}),"F"===o.id&&s&&(Date.now()-new Date("".concat(s.split(".")[1],".").concat(s.split(".")[0],".").concat(s.split(".")[2])).getTime())/1e3/60/60/24<14&&(0,a.jsxs)("div",{className:ed().link,onClick:()=>b(!0),children:[(0,a.jsx)("p",{className:S().className,children:"Оформить Возврат"}),(0,a.jsx)(l(),{alt:"->",src:I.Z,width:20,height:20})]})]}):(0,a.jsx)(ek,{orderId:t,id:j.id,img:j.img,name:j.name,price:j.price,color:j.color,size:j.size})}),(0,a.jsx)("button",{ref:y,id:null!==j?"review":"",onClick:j?()=>T(null):g,className:"".concat(ed().back," ").concat(S().className),children:"назад"})]})})};var eL=r.memo(eR),eD=s(24453),eO={src:"/_next/static/media/mock.4fbdbcf7.jpg",height:1350,width:1080,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAgEAABAwIHAAAAAAAAAAAAAAAAAREhAgMEEhMiMVGB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwC4xGktmjIu6Il+Jf3oAEH/2Q==",blurWidth:6,blurHeight:8};new eP;let eK=e=>{var t;let{closeOrders:s}=e,n=(0,v.v9)(e=>e.isMobile.isMobile),i=(0,v.v9)(e=>e.orderList.orderList),o=(0,v.v9)(e=>e.orderList.ordersIsLoad),c=(0,v.v9)(e=>e.orderList.page),u=(0,v.v9)(e=>e.orderList.totalPages),[m,x]=r.useState(null),[_,g]=r.useState(null),j=(0,f.Z)(),k=(e,t)=>{g(t?e:null),x(null===e?null:i.find(t=>t.id===e))},b=()=>{c>u||j((0,ey.TZ)({page:c,pageSize:5}))};return(0,d.useRouter)(),r.useEffect(()=>{m&&x(i.find(e=>e.id===m.id))},[i]),(0,a.jsx)(a.Fragment,{children:null===m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Заказы",size:n?22:28,marginBottom:n?32:40,withSuisse:!0}),(0,a.jsx)("div",{className:eo().products,children:o?(0,a.jsxs)(a.Fragment,{children:[Array.isArray(i)&&0===i.length&&(0,a.jsx)(w.Z,{text:"У вас нет заказов",size:16,marginTop:0,withSuisse:!0}),i.map(e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:eo().favoritesItem,onClick:()=>k(e.id,!1),children:[(0,a.jsx)("div",{className:eo().status,children:(0,a.jsx)(w.Z,{text:e.status.name,withDot:!0,size:12,marginTop:0})}),(0,a.jsx)(l(),{alt:e.status.name,src:e.product[0]?e.product[0].img:eO,onLoadingComplete:e=>e.style.backgroundImage="none",width:80,height:100,style:{maxWidth:"100%",height:"auto"}}),(0,a.jsxs)("div",{className:eo().infoBlock,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["# ",e.id]}),(0,a.jsx)("p",{children:e.date})]}),(0,a.jsx)("p",{children:(0,ec.f)(e.price)}),(0,a.jsx)(l(),{alt:"arrow",src:I.Z,width:n?20:24,height:n?20:24,style:{maxWidth:"100%",height:"auto"}})]})]},e.id),e.payTemplate&&(0,a.jsx)(h.Z,{text:"Оплатить заказ",className:eo().payment,isInvisible:!0,onClick:()=>k(e.id,!0)})]})),o&&(null===(t=i[i.length-1])||void 0===t?void 0:t.payUrl)&&(0,a.jsx)("div",{className:eo().lineBottom})]}):(0,a.jsx)(eD.Z,{imgWidth:50})}),c<=u&&o&&(0,a.jsx)(h.Z,{className:eo().loadMore,text:"Загрузить ещё",isInvisible:!0,isActive:n,onClick:b}),(0,a.jsx)("button",{onClick:s,className:"".concat(eo().back," ").concat(S().className),children:"назад"})]}):(0,a.jsx)(eL,{id:m.id,date:m.date,address:m.address,phone:m.phone,status:m.status,payTemplate:m.payTemplate,openDetailesWithPay:_,price:m.price,priceWithoutDelivery:m.priceWithoutDelivery,deliveryPrice:m.deliveryPrice,product:m.product,onCloseDetails:()=>k(null,!1)})})};var eM=r.memo(eK),eF=s(99211),ez=s.n(eF);let eW=e=>{let{closePaymentAndDelivery:t}=e,s=(0,v.v9)(e=>e.isMobile.isMobile);return(0,d.useRouter)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Условия доставки и возврата",size:s?22:28,marginBottom:s?24:40,withSuisse:!0}),(0,a.jsx)("p",{className:"".concat(ez().titleDelivery," ").concat(S().className),children:"Доставка"}),(0,a.jsx)("p",{className:ez().textInfo,children:"При покупке от\xa010\xa0000 рублей доставка курьером по\xa0Москве и\xa0Московской области и\xa0Почтой России осуществляется бесплатно. Стоимость доставки зависит от\xa0региона. Сроки доставки по\xa0России от\xa01\xa0до\xa010\xa0рабочих дней в\xa0зависимости от\xa0региона и\xa0способа доставки."}),(0,a.jsx)("p",{className:ez().textInfo,children:"Доставка в\xa0Армению, Казахстан, Беларусь осуществляется курьерской службой СДЭК. Стоимость и\xa0сроки доставки зависят от\xa0города."}),(0,a.jsx)("p",{className:ez().textInfo,children:"Доставка по\xa0миру осуществляется курьерской службой EMS. Стоимость доставки 3000\xa0рублей. Сроки доставки зависят от\xa0страны и\xa0города получателя."}),(0,a.jsx)("p",{className:"".concat(ez().titleDelivery," ").concat(S().className),children:"Оплата"}),(0,a.jsx)("p",{className:ez().textInfo,children:"Оплата при получении возможна для Москвы и Московской области. Заказы в другие регионы России и страны мира осуществляются по предоплате."}),(0,a.jsx)("button",{onClick:t,className:"".concat(ez().back," ").concat(S().className),children:"назад"})]})};var eH=s(47041),eq=s(44965);let eG=()=>{let[e,t]=r.useState("home"),s=(0,f.Z)(),n=(0,v.v9)(e=>e.isMobile.isMobile),i=(0,v.v9)(e=>e.userData.firstName),o=(0,v.v9)(e=>e.userData.lastName),c=(0,v.v9)(e=>e.userData.email),u=(0,v.v9)(e=>e.userData.phone),x=(0,v.v9)(e=>e.userData.birthday),_=(0,v.v9)(e=>e.userData.city),g=(0,v.v9)(e=>e.userData.subscribeNewsletter),j=(0,v.v9)(e=>e.userData.token);(0,v.v9)(e=>e.orderList.page);let b=(0,d.useRouter)(),N=e=>{b.push({pathname:b.asPath.split("?")[0],query:{...b.query,name:[],section:e}},void 0,{shallow:!0})},w=()=>{s((0,Q.pM)(!1)),s((0,Q.eT)(null)),s((0,Q.EB)(null)),s((0,Q.iB)(null)),s((0,Q.Q3)(null)),s((0,Q.Uk)(null)),s((0,Q.OW)(null)),s((0,Q.HP)(null)),s((0,Q.pW)(null)),(0,eH.deleteCookie)("BITRIX_SM_SALE_UID"),localStorage.removeItem("token"),s((0,eq.hz)({token:null})),s((0,k.G4)({token:null})),b.push(b.asPath.split("?")[0]+m.Z.signIn)};if(r.useEffect(()=>{s((0,ey.Fw)({pageSize:5})),localStorage.getItem("token")&&t(b.query.section)},[j]),r.useEffect(()=>()=>{s((0,ey.LI)([])),s((0,ey.oO)(1)),s((0,ey.hB)(1))},[]),"settings"===e)return(0,a.jsx)($,{name:i||"",secondName:o||"",birthday:x||"",city:_||"",subscribeNewsletter:g||!1,email:c||"",phone:u||"",closeSettings:()=>N("home"),openResetPass:()=>N("resetPass")});if("resetPass"===e)return(0,a.jsx)(en,{closeResetPass:()=>N("settings")});if("favorites"===e)b.push(b.asPath.split("?")[0]+m.Z.favorites+"&from=lk");else if("orders"===e)return(0,a.jsx)(eM,{closeOrders:()=>N("home")});else if("delivery"===e)return(0,a.jsx)(eW,{closePaymentAndDelivery:()=>N("home")});return(0,a.jsxs)("div",{className:E().lk,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.Z,{text:i?"Привет, ".concat(i):"Привет!",size:n?22:28,marginBottom:n?40:60,withSuisse:!0}),(0,a.jsxs)("div",{onClick:()=>N("settings"),className:E().link,children:[(0,a.jsx)("p",{className:S().className,children:"настройки аккаунта"}),(0,a.jsx)(l(),{alt:"->",src:I.Z,width:20,height:20})]}),(0,a.jsxs)("div",{onClick:()=>N("orders"),className:E().link,children:[(0,a.jsx)("p",{className:S().className,children:"Заказы"}),(0,a.jsx)(l(),{alt:"->",src:I.Z,width:20,height:20})]}),(0,a.jsxs)("div",{onClick:()=>N("favorites"),className:E().link,children:[(0,a.jsx)("p",{className:S().className,children:"избранное"}),(0,a.jsx)(l(),{alt:"->",src:I.Z,width:20,height:20})]}),(0,a.jsx)("div",{onClick:()=>N("delivery"),className:E().link,children:(0,a.jsx)("p",{className:S().className,children:"Доставка и оплата"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"Есть вопросы?"}),(0,a.jsxs)("p",{children:["Напишите консультанту в\xa0",(0,a.jsx)("a",{href:"https://api.whatsapp.com/send?phone=79151275549",target:"_blank",rel:"noreferrer",children:"WhatsApp"})," ","или свяжитесь с\xa0нами по\xa0номеру\xa0",(0,a.jsx)("a",{href:"tel:+79151275549",children:"+7\xa0915 127-55-49"})]}),(0,a.jsx)(h.Z,{className:E().button,text:"выйти",isInvisible:!0,onClick:w})]})]})};var eU=r.memo(eG),eQ=s(47185),eJ=s.n(eQ),eY=s(41664),eV=s.n(eY),eX=s(83203),e$=s.n(eX);let e0=e=>{let{value:t,id:s,label:r,isError:n,link:i,linkText:o,onChange:c}=e;return(0,a.jsxs)("div",{className:e$().checkbox,children:[(0,a.jsx)("input",{onChange:c,defaultChecked:t,type:"checkbox",id:s}),(0,a.jsxs)("label",{className:!0===n?e$().isError:"",onSelect:e=>e.preventDefault(),onMouseDown:e=>e.preventDefault(),htmlFor:s,children:[r,i&&(0,a.jsx)(eV(),{href:i,target:"_blank",rel:"noreferrer",children:o})]})]})};var e1=r.memo(e0);let e2=e=>({token:e.token,errors:e.errors?{firstName:e.errors.firstName,lastName:e.errors.lastName,password:e.errors.password,passwordConfirmation:e.errors.passwordConfirmation,email:e.errors.email,phone:e.errors.phone,agreement:e.errors.agreement,subscribeNewsletter:e.errors.subscribeNewsletter,codeConfirmation:e.errors.codeConfirmation}:null});class e4{async getSmsConfiration(e,t){let s=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/auth/".concat(t?"sign-up":"sign-in","/sms"),headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return{success:s.success,data:s.data,status:s.status}}catch(e){return{success:s.success,data:s.data,status:s.status}}}constructor(){this._apiStore=q.Z.apiStore}}var e9=s(63282);let e8=new class{async registration(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/auth/sign-up",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return t.data=e2(t.data),{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},e3=new e4,e5=()=>{let[e,t]=r.useState(""),[s,n]=r.useState(!1),[i,o]=r.useState(""),[c,l]=r.useState(!1),[x,_]=r.useState(""),[g,j]=r.useState(!1),[b,N]=r.useState(""),[w,y]=r.useState(!1),[C,A]=r.useState(""),[T,I]=r.useState(!1),[Z,E]=r.useState(""),[B,P]=r.useState(!1),[R,D]=r.useState(!1),[K,M]=r.useState(!1),[F,z]=r.useState(!1),[W,H]=r.useState(""),[q,G]=r.useState(null),[U,J]=r.useState(""),[Y,V]=r.useState(!1),[X,$]=r.useState(!1),[ee,et]=r.useState(!0),es=r.useRef(null),ea=(0,v.v9)(e=>e.isMobile.isMobile),er=(0,d.useRouter)(),en=(0,f.Z)(),ei=e=>{n(!1),t(e.target.value)},eo=e=>{l(!1),o(e.target.value)},ec=e=>{j(!1),_(e.target.value)},el=e=>{y(!1),I(!1),N(e.target.value)},ed=e=>{I(!1),y(!1),A(e.target.value)},eu=e=>{P(!1),E("+"===e.target.value[0]?e.target.value[0]+e.target.value.slice(1,e.target.value.length).replace(/[^\d]/g,""):e.target.value.replace(/[^\d]/g,""))},eh=()=>{D(!R)},ep=()=>{z(!1),M(!K)},em=()=>{if(!X){if(b!==C){y(!0),I(!0),H("Пароли не совпали"),n(!1),l(!1),j(!1),P(!1),z(!1);return}if(b.length<8){y(!0),H("Пароль должен быть более 8 символов"),I(!1),n(!1),l(!1),j(!1),P(!1),z(!1);return}if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(x)){if(P(!1),V(!1),""===e){n(!0),H("Заполните поле");return}if(""===i){l(!0),H("Заполните поле");return}if(""===x){j(!0),H("Заполните поле");return}if(""===b){y(!0),H("Заполните поле");return}if(""===C){I(!0),H("Заполните поле");return}if(""===Z){P(!0),H("Заполните поле");return}if(!K){z(!0);return}$(!0),e8.registration({firstName:e,lastName:i,password:b,passwordConfirmation:C,email:x,phone:Z,agreement:K,subscribeNewsletter:R,codeConfirmation:U}).then(e=>{if($(!1),e.data.errors&&e.data.errors.firstName){n(!0),H(e.data.errors.firstName[0]);return}if(e.data.errors&&e.data.errors.lastName){l(!0),H(e.data.errors.lastName[0]);return}if(e.data.errors&&e.data.errors.password){y(!0),H(e.data.errors.password[0]);return}if(e.data.errors&&e.data.errors.passwordConfirmation){I(!0),H(e.data.errors.passwordConfirmation[0]);return}if(e.data.errors&&e.data.errors.email){j(!0),H(e.data.errors.email[0]);return}if(e.data.errors&&e.data.errors.phone){P(!0),H(e.data.errors.phone[0]);return}if(e.data.errors&&e.data.errors.agreement){z(!0);return}if(e.data.errors&&e.data.errors.codeConfirmation){U?(V(!0),H(e.data.errors.codeConfirmation[0])):(P(!0),H("Поле sms кода не должно быть пустым"));return}e.data.token&&((0,e9.ZP)("reachGoal","registration"),localStorage.setItem("token",e.data.token),en((0,Q.is)({token:e.data.token})).then(()=>{er.push(er.asPath.split("?")[0]+m.Z.lk),en((0,eq.hz)({token:localStorage.getItem("token")})),en((0,k.G4)({token:localStorage.getItem("token")}))}))})}else{j(!0),H("Введите корректный email"),y(!1),I(!1),n(!1),l(!1),P(!1),z(!1);return}}},ex=()=>{ee&&(et(!1),y(!1),I(!1),n(!1),l(!1),j(!1),P(!1),z(!1),e3.getSmsConfiration({phone:Z},!0).then(e=>{et(!0),"ok"===e.data.message?(G(60),es.current=setInterval(()=>{G(e=>e-1)},1e3)):e.data.errors&&e.data.errors.phone&&(P(!0),H(e.data.errors.phone[0]))}))},e_=e=>{V(!1),P(!1),J(e.target.value)};return r.useEffect(()=>{0===q&&clearInterval(es.current)},[q,es]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Создать аккаунт",size:ea?22:28,marginBottom:ea?32:40,withSuisse:!0}),(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(s?eJ().isError:""),value:e,placeholder:"Имя",type:"text",isError:s,errorText:W,onChange:ei}),(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(c?eJ().isError:""),value:i,placeholder:"Фамилия",type:"text",isError:c,errorText:W,onChange:eo}),(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(g?eJ().isError:""),value:x,placeholder:"Email",type:"text",isError:g,errorText:W,onChange:ec}),(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(w?eJ().isErrorPass:""),value:b,placeholder:"Пароль",type:"password",label:"Не меньше 8 символов",isError:w,errorText:W,onChange:el}),(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(T?eJ().isError:""),value:C,placeholder:"Повторите пароль",type:"password",isError:T,errorText:W,onChange:ed}),(0,a.jsxs)("div",{className:eJ().phoneBlock,children:["RU"===localStorage.getItem("location")?(0,a.jsx)(L(),{className:"".concat(eJ().inputMask," ").concat(B?eJ().errorPhone:""),mask:["+","7"," ",/[1-6]|[8-9]/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/," ",/\d/,/\d/],guide:!0,id:"inputMask",placeholder:"+7 999 000 00 00",type:"tel",onChange:eu,value:Z}):(0,a.jsx)(O.Z,{className:"".concat(eJ().input," ").concat(B?eJ().errorPhone:""),value:Z,placeholder:"+7 999 000 00 00",type:"tel",onChange:eu}),"RU"===localStorage.getItem("location")&&(0,a.jsxs)(a.Fragment,{children:[Z.length>=11&&null===q&&(0,a.jsx)("p",{onClick:ex,children:"Отправить код"}),Z.length>=11&&null!==q&&0!==q&&(0,a.jsx)("p",{children:"00:".concat(q)}),Z.length>=11&&null!==q&&0===q&&(0,a.jsx)("p",{onClick:ex,children:"Отправить еще раз"})]})]}),B&&W&&(0,a.jsx)("p",{className:eJ().errorText,children:W}),null!==q&&"RU"===localStorage.getItem("location")&&(0,a.jsx)(O.Z,{className:eJ().smsInput,value:U,placeholder:"Код",type:"number",errorText:W,isError:Y,onChange:e_}),(0,a.jsxs)("div",{className:eJ().checkboxBlock,children:[(0,a.jsx)(e1,{value:R,id:"isSubscribe",label:"Подписаться на рассылку",onChange:eh}),(0,a.jsx)(e1,{value:K,id:"isAgree",label:"Я ознакомлен(а) с ",isError:F,link:m.Z.agreement,linkText:"условиями",onChange:ep})]}),(0,a.jsx)(h.Z,{className:eJ().reg,isActive:!0,isInvisible:!0,text:"зарегистрироваться",disabled:X,onClick:em}),(0,a.jsx)(u.Z,{href:er.asPath.split("?")[0]+m.Z.signIn,children:(0,a.jsx)("button",{className:"".concat(eJ().back," ").concat(S().className),children:"назад"})})]})};var e6=r.memo(e5),e7=s(46409),te=s.n(e7);let tt=new e4,ts=new class{async getRequestToRestore(e){let t=await this._apiStore.request({method:G.I.POST,endpoint:"/api/v1/auth/request-to-restore",headers:{accept:"application/json","Content-Type":"application/json"},data:e});try{return{success:t.success,data:t.data,status:t.status}}catch(e){return{success:t.success,data:t.data,status:t.status}}}constructor(){this._apiStore=q.Z.apiStore}},ta=()=>{let[e,t]=r.useState(""),[s,n]=r.useState(""),[i,o]=r.useState(""),[c,l]=r.useState(""),[x,_]=r.useState(!1),[g,j]=r.useState(!1),[b,N]=r.useState(!1),[w,y]=r.useState(!1),[C,A]=r.useState(!1),[T,I]=r.useState(""),[Z,E]=r.useState(!1),[B,P]=r.useState(!1),[R,D]=r.useState("mail"),[K,M]=r.useState(null),[F,z]=r.useState(!0),[W,H]=r.useState(!1),[q,G]=r.useState(!1),U=r.useRef(null),J=(0,f.Z)(),Y=(0,v.v9)(e=>e.isMobile.isMobile),V=(0,d.useRouter)(),X=(e,s)=>{s?(t(e.target.value),N(!1)):(j(!1),n(e.target.value))},$=()=>{_(!x)},ee=()=>{if(!W){if("mail"===R){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)&&""!==s){j(!1),N(!0),I("Введён некорректный email");return}if(""===s&&e){j(!0),N(!1),I("Введите пароль");return}H(!0),J((0,Q.vM)({email:e,password:s,rememberMe:x})).then(e=>{let{data:t}=e.payload;t.errors&&(Array.isArray(t.errors.password)&&(j(!0),N(!1),I(t.errors.password[0])),Array.isArray(t.errors.email)&&(j(!1),N(!0),I(t.errors.email[0])),H(!1)),t.token&&(localStorage.setItem("token",t.token),J((0,Q.is)({token:t.token})).then(()=>{if(sessionStorage.getItem("authRedirect"))sessionStorage.removeItem("authRedirect"),V.back();else{if(V.asPath.includes("/checkout?personal-area=sign-in&isOrder"))return V.push("/checkout");V.push(V.asPath.split("?")[0]+m.Z.lk,void 0,{shallow:!0})}J((0,eq.hz)({token:localStorage.getItem("token")})),J((0,k.G4)({token:localStorage.getItem("token")}))}))})}else H(!0),J((0,Q.UJ)({phone:i,code:c,rememberMe:x})).then(e=>{let{data:t}=e.payload;t.errors&&(Array.isArray(t.errors.phone)&&(y(!0),A(!1),I(t.errors.phone[0])),Array.isArray(t.errors.code)&&(y(!1),A(!0),I(t.errors.code[0])),H(!1)),t.token&&(localStorage.setItem("token",t.token),J((0,Q.is)({token:t.token})).then(()=>{if(sessionStorage.getItem("authRedirect"))sessionStorage.removeItem("authRedirect"),V.back();else{if(V.asPath.includes("/checkout?personal-area=sign-in&isOrder"))return V.push("/checkout");V.push(V.asPath.split("?")[0]+m.Z.lk,void 0,{shallow:!0})}J((0,eq.hz)({token:localStorage.getItem("token")})),J((0,k.G4)({token:localStorage.getItem("token")}))}))})}},et=()=>{E(!Z)},es=()=>{/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?(G(!0),ts.getRequestToRestore({email:e}).then(e=>{var t;G(!1),(null===(t=e.data.errors)||void 0===t?void 0:t.email)&&(N(!0),I(e.data.errors.email[0])),"ok"===e.data.message&&P(!0)})):(N(!0),I("Введён некорректный email"))},ea=e=>{e?D("mail"):D("phone")},er=e=>{o("+"===e.target.value[0]?e.target.value[0]+e.target.value.slice(1,e.target.value.length).replace(/[^\d]/g,""):e.target.value.replace(/[^\d]/g,"")),y(!1),A(!1)},en=e=>{A(!1),l(e.target.value)},ei=()=>{y(!1),F&&(z(!1),tt.getSmsConfiration({phone:i}).then(e=>{z(!0),"ok"===e.data.message?(M(60),U.current=setInterval(()=>{M(e=>e-1)},1e3)):e.data.errors&&e.data.errors.phone&&(y(!0),I(e.data.errors.phone[0]))}))};return(r.useEffect(()=>{0===K&&clearInterval(U.current)},[K,U]),Z)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"Сбросить пароль",size:Y?22:28,marginBottom:Y?24:40,withSuisse:!0}),(0,a.jsx)("button",{className:"".concat(te().back," ").concat(S().className),onClick:et,children:"назад"}),B?(0,a.jsx)("p",{className:te().description,children:"Письмо успешно отправлено на\xa0ваш адрес электронной почты!"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:te().description,children:"Если вы\xa0забыли свой пароль, введите адрес электронной почты, и\xa0мы\xa0отправим вам электронное письмо с\xa0инструкциями по\xa0его восстановлению"}),(0,a.jsx)(O.Z,{className:"".concat(te().resetInput," ").concat(b?te().isError+" "+te().isErrorRestore:""),value:e,placeholder:"Email",type:"email",errorText:T,isError:b,onChange:e=>X(e,!0)}),(0,a.jsx)(h.Z,{className:te().resetButton,onClick:es,isActive:!0,isInvisible:!0,disabled:q,text:"Сбросить пароль"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{text:"mail"===R?"Войти в аккаунт":"Войти или зарегистрироваться",size:Y?22:28,marginBottom:Y?32:40,withSuisse:!0}),(0,a.jsxs)("div",{className:te().buttonsBlock,children:[(0,a.jsx)(h.Z,{className:"phone"===R?te().buttonOpasity:"",isInvisible:!0,text:"по Почте",onClick:()=>ea(!0)}),(0,a.jsx)(h.Z,{className:"mail"===R?te().buttonOpasity:"",isInvisible:!0,text:"по телефону",onClick:()=>ea(!1)})]}),"mail"===R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:te().inputBlock,children:[(0,a.jsx)(O.Z,{value:e,placeholder:"Email",type:"email",errorText:b&&g?"":T,isError:b,className:b?te().isError:"",onChange:e=>X(e,!0)}),(0,a.jsx)(O.Z,{value:s,placeholder:"Пароль",type:"password",errorText:T,isError:g,onChange:e=>X(e,!1)})]}),(0,a.jsxs)("div",{className:te().actions,children:[(0,a.jsx)(e1,{value:x,id:"RememberMe",onChange:$,label:"Запомнить меня"}),(0,a.jsx)("p",{onClick:et,children:"Забыли пароль?"})]}),(0,a.jsxs)("div",{className:te().signButtonBlock,children:[(0,a.jsx)(h.Z,{onClick:ee,isActive:!0,isInvisible:!0,disabled:W,text:"Войти"}),(0,a.jsx)(u.Z,{href:V.asPath.split("?")[0]+m.Z.registration,children:(0,a.jsx)(h.Z,{isInvisible:!0,text:"зарегистрироваться"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:te().inputBlock,children:[(0,a.jsxs)("div",{className:te().phoneBlock,children:[(0,a.jsx)(L(),{className:"".concat(te().inputMask,"  ").concat(w?te().errorPhone:""),mask:["+","7"," ",/[1-6]|[8-9]/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/," ",/\d/,/\d/],guide:!0,id:"inputMask",type:"tel",placeholder:"+7 999 000 00 00",onChange:er,value:i}),12===i.length&&null===K&&(0,a.jsx)("p",{onClick:ei,children:"Отправить код"}),12===i.length&&null!==K&&0!==K&&(0,a.jsx)("p",{children:"00:".concat(K)}),12===i.length&&null!==K&&0===K&&(0,a.jsx)("p",{onClick:ei,children:"Отправить еще раз"})]}),w&&T&&(0,a.jsx)("p",{className:te().errorText,children:T}),(0,a.jsx)(O.Z,{value:c,placeholder:"Код",type:"number",errorText:T,isError:C,onChange:en})]}),(0,a.jsx)("div",{className:te().actions,children:(0,a.jsx)(e1,{value:x,id:"RememberMe",onChange:$,label:"Запомнить меня"})}),(0,a.jsxs)("div",{className:te().signButtonBlock,children:[(0,a.jsx)(h.Z,{onClick:ee,isActive:!0,isInvisible:!0,disabled:W,text:"Войти"}),(0,a.jsx)(u.Z,{href:V.asPath.split("?")[0]+m.Z.registration,children:(0,a.jsx)(h.Z,{isInvisible:!0,text:"зарегистрироваться"})})]})]})]})};var tr=r.memo(ta);let tn=e=>{let{action:t}=e;return"sign-in"===t?(0,a.jsx)(tr,{}):"registration"===t?(0,a.jsx)(e6,{}):"favorites"===t?(0,a.jsx)(T,{}):"lk"===t?(0,a.jsx)(eU,{}):void 0};var ti=r.memo(tn);let to=e=>{let{isOpen:t,action:s,onRequestClose:n}=e,c=r.useRef(null),u=(0,d.useRouter)();r.useEffect(()=>{let e=localStorage.getItem("token");void 0===s||"favorites"===s||(("sign-in"===s||"registration"===s)&&e?u.push(u.asPath.split("?")[0]+m.Z.lk,void 0,{shallow:!0}):"sign-in"===s||"registration"===s||e||(u.push(u.asPath.split("?")[0]+m.Z.signIn,void 0,{shallow:!0}),sessionStorage.setItem("authRedirect","true")))},[s]);let h=e=>{var t;let{target:s}=e;(null===(t=c.current)||void 0===t?void 0:t.contains(s))||n()};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{onMouseDown:h,className:i().lkBGC,children:(0,a.jsxs)("div",{ref:c,className:i().lk,children:[(0,a.jsx)(l(),{alt:"X",onClick:n,src:o.Z,width:24,height:24,style:{maxWidth:"100%",height:"auto"}}),(0,a.jsx)("div",{className:i().content,children:(0,a.jsx)(ti,{action:s})})]})}):(0,a.jsx)(a.Fragment,{})})};var tc=r.memo(to)},84503:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(67294);function r(e,t){let[s,r]=a.useState(e);return a.useEffect(()=>{let s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},55123:function(e){e.exports={dropdown:"Dropdown_dropdown__R041p",dropdata:"Dropdown_dropdata__qpNpI",dropdataItem:"Dropdown_dropdataItem__mGH8m",selectedFieldContainer:"Dropdown_selectedFieldContainer__CrnLr",selectedField:"Dropdown_selectedField__yAGRQ"}},11702:function(e){e.exports={inputBlock:"Input_inputBlock__3OtH7",input:"Input_input__T9Jrg",inputWithoutPencil:"Input_inputWithoutPencil__9tDjy",inputWithPencil:"Input_inputWithPencil__SReHd",isError:"Input_isError__Fi_uC",errorText:"Input_errorText__i0TKY",label:"Input_label__8juoF"}},58238:function(e){e.exports={radio:"Radio_radio__HIRWl",disable:"Radio_disable__6_dzz"}},12268:function(e){e.exports={radio:"RadioGroup_radio__B22yN",withoutBorder:"RadioGroup_withoutBorder__Tp2xE",radioGroup:"RadioGroup_radioGroup__SyDbT",error:"RadioGroup_error__PjUsK",errorText:"RadioGroup_errorText__5DUS0",widjetLink:"RadioGroup_widjetLink__Gcg55"}},85438:function(e){e.exports={switch:"Switcher_switch__PsrmH",slider:"Switcher_slider__M9HuW",round:"Switcher_round__rQ59h"}},10395:function(e){e.exports={textarea:"TextArea_textarea__Q3x7S",errorText:"TextArea_errorText__S_Q2Z"}},18416:function(e){e.exports={title:"Title_title__c26zI",sub:"Title_sub__wt02d",miniSub:"Title_miniSub__JyiY8",bigSub:"Title_bigSub__s_ou_"}},74968:function(e){e.exports={lkBGC:"PersonalArea_lkBGC__icWvb",lk:"PersonalArea_lk__HVMVA",content:"PersonalArea_content__n_kfi"}},19500:function(e){e.exports={favorites:"Favorites_favorites__ovYhW",button:"Favorites_button__cG1mJ",back:"Favorites_back__tgfwj"}},83203:function(e){e.exports={checkbox:"LKCheckbox_checkbox__vegKX",isError:"LKCheckbox_isError__YH92Y"}},70160:function(e){e.exports={lk:"LKHome_lk__sp13F",link:"LKHome_link__L0cxb",button:"LKHome_button__nwlmB"}},2758:function(e){e.exports={products:"LKOrderBack_products__V_6hL",button:"LKOrderBack_button__c4ktl",productsBack:"LKOrderBack_productsBack__AROdg",textarea:"LKOrderBack_textarea__fbULc",location:"LKOrderBack_location__nu98G",sendBtn:"LKOrderBack_sendBtn__lPckT",successSendText:"LKOrderBack_successSendText__p5nHb",withUnderline:"LKOrderBack_withUnderline__YEtLo",successSendTitle:"LKOrderBack_successSendTitle__8wTO0",subTitle:"LKOrderBack_subTitle__i9O_6",bigSubTitle:"LKOrderBack_bigSubTitle__S5No5"}},89672:function(e){e.exports={products:"LKOrders_products__Azpz6",favoritesItem:"LKOrders_favoritesItem__J50f_",status:"LKOrders_status__afT2s",infoBlock:"LKOrders_infoBlock__KWgKy",back:"LKOrders_back___V8rw",loadMore:"LKOrders_loadMore__ne_MW",payment:"LKOrders_payment__3MjWE",lineBottom:"LKOrders_lineBottom__bjCMP"}},6600:function(e){e.exports={input:"LKResetPass_input__Fyd3T",button:"LKResetPass_button__iOt3e",switcher:"LKResetPass_switcher__8F5Yt",back:"LKResetPass_back__0BjEj",isError:"LKResetPass_isError__kJnpF"}},32125:function(e){e.exports={stars:"LKReview_stars__KAd9R",textArea:"LKReview_textArea__O4cua",button:"LKReview_button___0DC5",editButton:"LKReview_editButton__sQ0wR",product:"LKReview_product__9xkQq"}},58004:function(e){e.exports={title:"LKSettings_title__Ti_B7",datepicker:"LKSettings_datepicker__FZXQH",phone:"LKSettings_phone___rsAU",input:"LKSettings_input__cRhlg",phoneTimer:"LKSettings_phoneTimer__FlqJf",button:"LKSettings_button__z5bDT",firstBtn:"LKSettings_firstBtn__XlY_U",switcher:"LKSettings_switcher__86kuG",back:"LKSettings_back__UzIuB",isError:"LKSettings_isError__1xgKl",isErrorSmsCode:"LKSettings_isErrorSmsCode__m12_o",datepickerBlock:"LKSettings_datepickerBlock__LMqdg",phoneBlock:"LKSettings_phoneBlock__fSQKh",smsInput:"LKSettings_smsInput__wLwXO",codeField:"LKSettings_codeField__Hx0nc",phoneContainer:"LKSettings_phoneContainer__KGWTo",errorText:"LKSettings_errorText__YTgN2",errorPhone:"LKSettings_errorPhone__51hoL",errorTextPhone:"LKSettings_errorTextPhone__2hiJT",errorTextPhoneWithCode:"LKSettings_errorTextPhoneWithCode__XJ7p_"}},47961:function(e){e.exports={orderInfo:"OrderDetails_orderInfo__GFSSy",products:"OrderDetails_products__Ac39E",price:"OrderDetails_price__jq1Hj",link:"OrderDetails_link__JMvzG",back:"OrderDetails_back__z9oqO",cloudpay_button:"OrderDetails_cloudpay_button__poqCz"}},99211:function(e){e.exports={titleDelivery:"PaymentAndDelivery_titleDelivery__f0B4K",textInfo:"PaymentAndDelivery_textInfo__R5iXB",back:"PaymentAndDelivery_back__E1y5h",successSendText:"PaymentAndDelivery_successSendText__bjZ4s"}},47185:function(e){e.exports={input:"Registration_input__EIpvi",inputMask:"Registration_inputMask__KdEyA",checkboxBlock:"Registration_checkboxBlock__KdN3A",isError:"Registration_isError__EuMEu",isErrorPass:"Registration_isErrorPass__XZPtM",errorText:"Registration_errorText__jKapa",back:"Registration_back__0y1MT",reg:"Registration_reg__df0WC",phoneBlock:"Registration_phoneBlock__N3EKA",smsInput:"Registration_smsInput__KoW6p",errorPhone:"Registration_errorPhone__GwYco"}},46409:function(e){e.exports={buttonsBlock:"SignIn_buttonsBlock__qNQ_a",buttonOpasity:"SignIn_buttonOpasity__44a_e",inputBlock:"SignIn_inputBlock__AABfl",actions:"SignIn_actions__NtOgR",signButtonBlock:"SignIn_signButtonBlock__jZWm_",imgBlock:"SignIn_imgBlock___Grd5",description:"SignIn_description__Ncyrk",resetInput:"SignIn_resetInput__58hAP",resetButton:"SignIn_resetButton__SbyH1",inputMask:"SignIn_inputMask__JuQuT",phoneBlock:"SignIn_phoneBlock__fXmDp",back:"SignIn_back__JFicg",isError:"SignIn_isError__mrwuv",isErrorRestore:"SignIn_isErrorRestore__PmLrO",errorText:"SignIn_errorText__TmuTb",errorPhone:"SignIn_errorPhone__DGgCI"}}}]);